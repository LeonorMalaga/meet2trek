<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="fontawesome/css/all.min.css">
    <link rel="stylesheet" href="css/templatemo-style.css">
</head>

<body>
    <div id="loader-wrapper">
        <div id="loader"></div>

        <div class="loader-section section-left"></div>
        <div class="loader-section section-right"></div>

    </div>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <div class="navbar-brand" href="#">
                <img src="img/logo4.png" alt="Image" class="img-logo" style="margin-left: 0">
            </div>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">

                <ul class="navbar-nav ml-auto mb- mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link nav-link-1 active" id="openPopupNav" style="cursor: pointer;">Regístrate</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link nav-link-2" id="openLoginPopupNav" style="cursor: pointer;">Iniciar
                            Sesión</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Popup de Registro -->
    <div id="popupForm" class="popup-overlay">
        <div class="popup-content">
            <span class="close-btn" id="closePopup">&times;</span>
            <h2>Registro</h2>
            <form id="registrationForm" action="tu-url-de-base-de-datos" method="POST">
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="username">Nombre de usuario:</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Contraseña:</label>
                    <input type="password" id="password" name="password"
                        placeholder="8 caracteres entre letras y números" required
                        pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
                        title="La contraseña debe tener al menos 8 caracteres, con letras y números."
                        style="font-size: 1em;">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Repetir contraseña:</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" required style="font-size: 1em;">
                    <span id="La contraseña no coincide" style="color:red; font-size: 0.9em;"></span>
                </div>
                <button type="submit" class="btn btn-primary">Enviar</button>
                <a href="editar-perfil-vacio.html" class=" btn-secondary" id="editProfileBtn">Editar perfil</a>
            </form>
        </div>
    </div>

    <!-- Popup de Inicio de Sesión -->
    <div id="loginPopupForm" class="popup-overlay">
        <div class="popup-content">
            <span class="close-btn" id="closeLoginPopup">&times;</span>
            <h2>Iniciar Sesión</h2>
            <form id="loginForm" action="Editar-perfil.html" method="POST">
                <div class="form-group">
                    <label for="loginUsername">Nombre de usuario:</label>
                    <input type="text" id="loginUsername" name="loginUsername" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Contraseña:</label>
                    <input type="password" id="loginPassword" name="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary">Iniciar</button>
                <p style="color: black; margin-top: 10px;">
                    Si no estás registrado haz clic <a href="#" id="openPopup"><u>aquí</u></a>.
                </p>
            </form>
        </div>
    </div>

    <div>
        <video loop autoplay muted id="hero-video" style="width: 1368px;">
            <source src="video/hero.mp4" type="video/mp4">
            No se puede reproducir el video
        </video>
        <div id="overlay-text" class="overlay-text" style="font-size: 60px;">Mucho más que senderismo...</div>
    </div>

    <div class="row" style="margin-top: 30px;">
        <div class="col-xl-3  mb-5">
            <img src="img/past2.jpg" alt="Image" class="img-fluid" style="max-width: 100%;">
        </div>
        <div class="col-xl-3 mb-5">
            <img src="img/past1.jpg" alt="Image" class="img-fluid" style="max-width: 100%;">
        </div>
        <div class="col-xl-3 mb-5">
            <img src="img/past3.jpg" alt="Image" class="img-fluid" style="max-width: 100%;">
        </div>
    </div>

    <div>
        <article id="filter">
            <h2 class="tm-text-primary">Filtros de búsqueda</h2>
            <form id="contact-form" action="" method="POST">

                <div class="form-group">
                    <select class="form-control" id="contact-select" name="inquiry" id="filter">
                        <option>Destino</option>
                        <option>Málaga</option>
                        <option disabled>Córdoba</option>
                        <option disabled>Sevilla</option>
                        <option disabled>Cádiz</option>
                        <option disabled>Huelva</option>
                        <option disabled>Almería</option>
                        <option disabled>Jaén</option>
                        <option disabled>Granada</option>
                    </select>
                </div>
                <div class="form-group">
                    <select class="form-control" id="contact-select" name="inquiry">
                        <option>Población</option>
                        <option>Málaga</option>
                        <option>Ronda</option>
                        <option>Antequera</option>
                        <option>Axarquía</option>
                        <option>Guadalhorce</option>
                        <option>Abdalajís</option>
                        <option>Costa del Sol</option>
                        <option>Almijara</option>
                    </select>
                </div>

                <div class="form-group">
                    <input type="number" name="dific" class="form-control" placeholder="Dificultad (del 1 al 10)"
                        min="0" max="10" required style="padding: 15px 20px 15px 20px;" />
                </div>
                <div class="form-group">
                    <input type="number" name="distancia" class="form-control" placeholder="Distancia (de 1 a 30km)"
                        min="0" max="30" required style="padding: 15px 20px 15px 20px;" />
                </div>

                <!-- Añadir las checkboxes en dos columnas -->
                <h3 class="tm-text-primary">Características:</h3>
                <div style="color: #437571; margin-top: 10px; text-align: left;">

                    <div class="row">
                        <div class="col-md-6">
                            <label>
                                <input type="checkbox" name="caracteristica1" value="option1"> Ruta circular
                            </label><br>
                            <label>
                                <input type="checkbox" name="caracteristica2" value="option2"> Con zona de baño
                            </label><br>
                            <label>
                                <input type="checkbox" name="caracteristica3" value="option3"> Vista fotográficas
                            </label>
                        </div>
                        <div class="col-md-6">
                            <label>
                                <input type="checkbox" name="caracteristica5" value="option5"> Con escalada
                            </label><br>
                            <label>
                                <input type="checkbox" name="caracteristica6" value="option6"> Apta para niños
                            </label><br>
                            <label>
                                <input type="checkbox" name="caracteristica7" value="option7"> Sin mojarse
                            </label>
                        </div>
                    </div>
                </div>

                <div class="tm-text-right" style="margin-top: 20px;">
                    <button type="submit" class="btn btn-primary">Buscar rutas</button>
                    <button type="button" class="btn btn-primary" id="openLoginPopupBtn">Guardar filtros</button>

                </div>
            </form>
        </article>
    </div>



    <!-- Sección Ruta recomendada del mes -->
    <section id="recomend">
        <a href="ruta-recomendada.html">
            <h1>Ruta del mes</h1>
        </a>
        <a href="ruta-recomendada.html">
            <img src="img/chilla/RioChilla 3.jpg" alt="Descripción de la imagen" class="img-recomend">
        </a>
        <a href="ruta-recomendada.html">
            <h2 class="tm-text-primary" style="margin-bottom: 0px;">Sendero acuático río Chillar</h2>
        </a>
        <a href="ruta-recomendada.html">
            <h3 class="tm-text-primary" style="margin-top: 0px;">Nerja. Málaga</h3>
        </a>

        <p class="article-title" style="font-size: 15px; padding: 0px 60px; line-height: 1.3rem;">
            El camino del Río Chillar es una ruta muy conocida, pero el 99% de las personas se detienen en el Vado de
            Los Patos o incluso antes. No todo el mundo sabe que con un poco más de dificultad, esfuerzo y orientación,
            dos kilómetros más arriba, en medio de una naturaleza mucho más salvaje y exuberante, se esconde un pequeño
            paraíso natural de cascadas y piscinas naturales.
        </p>
    </section>
    </div>

    <div>
        <!-- Sección Rutas en fichas de presentación -->
        <section class="rutas">


            <div class="contenedor">
                <!-- Columna 1 con el contenido proporcionado -->
                <div class="columna columna1">
                    <div>
                        <a href="ruta-detail.html">
                            <img src="img/caminito3.jpg" alt="Image">
                            <h2 class="tm-text-primary">Caminito del Rey</h2>
                            <h3 class="tm-text-secondary h5" style="margin-bottom: 1.5rem;">Ardales. Málaga</h3>
                            <p class="mb-4">
                                Mauris ante tellus, feugiat nec metus non, bibendum semper velit. Praesent laoreet urna
                                id
                                tristique
                                fermentum. Morbi venenatis dui quis diam mollis pellentesque.
                            </p>
                        </a>
                    </div>
                </div>

                <!-- Columna 2 para mostrar datos extraídos de una API -->
                <div class="columna columna2" id="columna2">
                    <img src="https://via.placeholder.com/350x200" alt="Imagen de la API">
                    <h2 class="tm-text-primary">Datos de la API</h2>
                    <div id="apiContent">
                        <!-- Aquí se mostrarán los datos extraídos de la API -->
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="foot">
        <footer class="tm-bg-gray pt-5 pb-3 tm-text-gray tm-footer">
            <div class=" px-5">
                <h3 class="tm-text-primary mb-4 tm-footer-title">Política de privacidad</h3>
                <p>La política de privacidad contiene las normas acerca de qué datos personales se van a recoger en el
                    sitio web, cuáles ser guardarán y qué uso se les va a dar. Asimismo, se informará a los usuarios de
                    la posibilidad de acceder, modificar o cancelar dichos datos, y el procedimiento para hacerlo.

                    Este documento contiene las normas relativas al tratamiento (recogida, gestión y retención) de datos
                    de carácter personal. Por tanto, su elaboración es obligatoria para todos aquellos sitios webs que
                    recolecten datos personales de sus usuarios. También comprende los derechos de los usuarios y las
                    obligaciones del titular del sitio web en relación con el tratamiento de los datos personales.

                    Se consideran datos personales toda aquella información que haga referencia a una persona
                    identificada o identificable (ej. nombre, dirección postal, correo electrónico, teléfono).</p>
            </div>

    </div>
    </footer>
    </div>

    <script src="js/plugins.js"></script>
    <script src="js/popup.js"></script>

    <script>
        $(window).on("load", function () {
            $('body').addClass('loaded');
        });

        window.onload = function () {
            setTimeout(function () {
                document.getElementById("overlay-text").classList.add("visible");
            }, 2000); // El texto aparece después de 1 segundo
        };

    </script>

    <!-- Script para conectarse a la API y mostrar los datos en la columna 2 -->
    <script>
        // Reemplaza este URL con el de tu API real
        const apiUrl = 'https://jsonplaceholder.typicode.com/posts/1';
        // Función para obtener datos de la API
        async function obtenerDatos() {
            try {

                const respuesta = await fetch(apiUrl);
                const datos = await respuesta.json();

                // Mostrar los datos en la columna 2
                const apiContent = document.getElementById('apiContent');
                apiContent.innerHTML = `
            
                <h3 class= "tm-text-secondary h5">${datos.title}</h3>
                <p class= "mb-4">${datos.body}</p>
            `;
            } catch (error) {
                console.error('Error al obtener los datos de la API:', error);
            }
        }

        // Llamar a la función para obtener los datos al cargar la página
        obtenerDatos();
    </script>

    <script>
        // Abrir el popup de inicio de sesión desde el botón del formulario
        document.getElementById('openLoginPopupBtn').addEventListener('click', function () {
            console.log("Abrir popup de inicio de sesión");
            document.getElementById('loginPopupForm').style.display = 'block';
        });

        // Abrir el popup de inicio de sesión desde el enlace en el nav
        document.getElementById('openLoginPopupNav').addEventListener('click', function () {
            console.log("Cerrar popup de inicio de sesión");
            document.getElementById('loginPopupForm').style.display = 'block';
        });

        // Cerrar el popup de inicio de sesión
        document.getElementById('closeLoginPopup').addEventListener('click', function () {
            document.getElementById('loginPopupForm').style.display = 'none';
        });

        // Evento para el enlace "aquí" en el popup de inicio de sesión
        document.getElementById('openPopup').addEventListener('click', function (event) {
            event.preventDefault(); // Prevenir el comportamiento por defecto del enlace

            // Cerrar el popup de inicio de sesión
            document.getElementById('loginPopupForm').style.display = 'none';

            // Abrir el popup de registro después de un breve retardo
            setTimeout(function () {
                document.getElementById('popupForm').style.display = 'block';
            }, 300); // Retardo de 300ms para asegurarse de que el primer popup se cierre antes de abrir el siguiente
        });

        // Cerrar el popup de registro
        document.getElementById('closePopup').addEventListener('click', function () {
            document.getElementById('popupForm').style.display = 'none';
        });

        // Cerrar los popups si se hace clic fuera de ellos
        window.onclick = function (event) {
            var popup = document.getElementById("popupForm");
            var loginPopupForm = document.getElementById("loginPopupForm");

            if (event.target == popup) {
                popup.style.display = 'none';
            }
            if (event.target == loginPopupForm) {
                loginPopupForm.style.display = 'none';
            }
        };

        console.log(document.getElementById('loginPopupForm')); // Debería mostrar el elemento en la consola si existe
        console.log(document.getElementById('popupForm')); // Lo mismo aquí

    </script>
</body>

</html>