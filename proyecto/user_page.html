<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="css/templatemo-style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="loader-wrapper">
      <div id="loader"></div>

      <div class="loader-section section-left"></div>
      <div class="loader-section section-right"></div>
    </div>
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <div class="navbar-brand" href="#">
          <img
            src="img/logo4.png"
            alt="Image"
            class="img-logo"
            style="margin-left: 0"
          />
        </div>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto mb- mb-lg-0">
            <li class="nav-item">
              <a
                class="nav-link nav-link-1 active"
                id="mi_perfil"
                style="cursor: pointer"
                href="editar-perfil-vacio.html"
                >Mi Perfil</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link nav-link-2" href="mis-rutas.html">Mis rutas</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section id="filter">
        <h2 class="tm-text-primary">Filtros de búsqueda</h2>
        <form id="contact-form" action="" method="POST">
          <div class="form-group">
            <select
              class="form-control"
              id="contact-select"
              name="inquiry"
              id="filter"
            >
              <option>Destino</option>
              <option>Málaga</option>
              <option disabled>Córdoba</option>
              <option disabled>Sevilla</option>
              <option disabled>Cádiz</option>
              <option disabled>Huelva</option>
              <option disabled>Almería</option>
              <option disabled>Jaén</option>
              <option disabled>Granada</option>
            </select>
          </div>
          <div class="form-group">
            <select class="form-control" id="contact-select" name="inquiry">
              <option>Población</option>
              <option>Málaga</option>
              <option>Ronda</option>
              <option>Antequera</option>
              <option>Axarquía</option>
              <option>Guadalhorce</option>
              <option>Abdalajís</option>
              <option>Costa del Sol</option>
              <option>Almijara</option>
            </select>
          </div>

          <div class="form-group">
            <input
              type="number"
              name="dific"
              class="form-control"
              placeholder="Dificultad (del 1 al 10)"
              min="0"
              max="10"
              required
              style="padding: 15px 20px 15px 20px"
            />
          </div>
          <div class="form-group">
            <input
              type="number"
              name="distancia"
              class="form-control"
              placeholder="Distancia (de 1 a 30km)"
              min="0"
              max="30"
              required
              style="padding: 15px 20px 15px 20px"
            />
          </div>

          <!-- Añadir las checkboxes en dos columnas -->
          <h3 class="tm-text-primary">Características:</h3>
          <div style="color: #437571; margin-top: 10px; text-align: left">
            <div class="row">
              <div class="col-md-6">
                <label>
                  <input
                    type="checkbox"
                    name="caracteristica1"
                    value="option1"
                  />
                  Ruta circular </label
                ><br />
                <label>
                  <input
                    type="checkbox"
                    name="caracteristica2"
                    value="option2"
                  />
                  Con zona de baño </label
                ><br />
                <label>
                  <input
                    type="checkbox"
                    name="caracteristica3"
                    value="option3"
                  />
                  Vista fotográficas
                </label>
              </div>
              <div class="col-md-6">
                <label>
                  <input
                    type="checkbox"
                    name="caracteristica5"
                    value="option5"
                  />
                  Con escalada </label
                ><br />
                <label>
                  <input
                    type="checkbox"
                    name="caracteristica6"
                    value="option6"
                  />
                  Apta para niños </label
                ><br />
                <label>
                  <input
                    type="checkbox"
                    name="caracteristica7"
                    value="option7"
                  />
                  Sin mojarse
                </label>
              </div>
            </div>
          </div>

          <div class="tm-text-right" style="margin-top: 20px">
            <button type="submit" class="btn btn-primary">Buscar rutas</button>
            <button
              type="button"
              class="btn btn-primary"
              id="openLoginPopupBtn"
            >
              Guardar filtros
            </button>
          </div>
        </form>
      </section>

      <!-- Sección Rutas en fichas de presentación -->
      <section class="rutas">
        <div class="contenedor">
          <!-- Columna 1 con el contenido proporcionado -->
          <div class="columna columna1">
            <div>
              <a href="ruta-detail.html">
                <img src="img/caminito3.jpg" alt="Image" />
                <h2 class="tm-text-primary">Caminito del Rey</h2>
                <h3 class="tm-text-secondary h5" style="margin-bottom: 1.5rem">
                  Ardales. Málaga
                </h3>
                <p class="mb-4">
                  Mauris ante tellus, feugiat nec metus non, bibendum semper
                  velit. Praesent laoreet urna id tristique fermentum. Morbi
                  venenatis dui quis diam mollis pellentesque.
                </p>f
              </a>
            </div>
          </div>

          <!-- Columna 2 para mostrar datos extraídos de una API -->
          <div class="columna columna2" id="columna2">
            <img
              src="https://via.placeholder.com/350x200"
              alt="Imagen de la API"
            />
            <h2 class="tm-text-primary">Datos de la API</h2>
            <div id="apiContent">
              <!-- Aquí se mostrarán los datos extraídos de la API -->
            </div>
          </div>
        </div>
      </section>

      <footer class="tm-bg-gray pt-5 pb-3 tm-text-gray tm-footer">
        <div class="px-5">
          <h3 class="tm-text-primary mb-4 tm-footer-title">
            Política de privacidad
          </h3>
          <p>
            La política de privacidad contiene las normas acerca de qué datos
            personales se van a recoger en el sitio web, cuáles ser guardarán y
            qué uso se les va a dar. Asimismo, se informará a los usuarios de la
            posibilidad de acceder, modificar o cancelar dichos datos, y el
            procedimiento para hacerlo. Este documento contiene las normas
            relativas al tratamiento (recogida, gestión y retención) de datos de
            carácter personal. Por tanto, su elaboración es obligatoria para
            todos aquellos sitios webs que recolecten datos personales de sus
            usuarios. También comprende los derechos de los usuarios y las
            obligaciones del titular del sitio web en relación con el
            tratamiento de los datos personales. Se consideran datos personales
            toda aquella información que haga referencia a una persona
            identificada o identificable (ej. nombre, dirección postal, correo
            electrónico, teléfono).
          </p>
        </div>
      </footer>

    <script src="js/plugins.js"></script>
    <script src="js/popup.js"></script>

    <script>
      $(window).on("load", function () {
        $("body").addClass("loaded");
      });

      window.onload = function () {
        setTimeout(function () {
          document.getElementById("overlay-text").classList.add("visible");
        }, 2000); // El texto aparece después de 1 segundo
      };
    </script>

    <!-- Script para conectarse a la API y mostrar los datos en la columna 2 -->
    <script>
      // Reemplaza este URL con el de tu API real
      const apiUrl = "https://jsonplaceholder.typicode.com/posts/1";
      // Función para obtener datos de la API
      async function obtenerDatos() {
        try {
          const respuesta = await fetch(apiUrl);
          const datos = await respuesta.json();

          // Mostrar los datos en la columna 2
          const apiContent = document.getElementById("apiContent");
          apiContent.innerHTML = `
            
                <h3 class= "tm-text-secondary h5">${datos.title}</h3>
                <p class= "mb-4">${datos.body}</p>
            `;
        } catch (error) {
          console.error("Error al obtener los datos de la API:", error);
        }
      }

      // Llamar a la función para obtener los datos al cargar la página
      obtenerDatos();
    </script>

    <script>
      // Abrir el popup de inicio de sesión desde el botón del formulario
      document
        .getElementById("openLoginPopupBtn")
        .addEventListener("click", function () {
          console.log("Abrir popup de inicio de sesión");
          document.getElementById("loginPopupForm").style.display = "block";
        });

      // Abrir el popup de inicio de sesión desde el enlace en el nav
      document
        .getElementById("openLoginPopupNav")
        .addEventListener("click", function () {
          console.log("Cerrar popup de inicio de sesión");
          document.getElementById("loginPopupForm").style.display = "block";
        });

      // Cerrar el popup de inicio de sesión
      document
        .getElementById("closeLoginPopup")
        .addEventListener("click", function () {
          document.getElementById("loginPopupForm").style.display = "none";
        });

      // Evento para el enlace "aquí" en el popup de inicio de sesión
      document
        .getElementById("openPopup")
        .addEventListener("click", function (event) {
          event.preventDefault(); // Prevenir el comportamiento por defecto del enlace

          // Cerrar el popup de inicio de sesión
          document.getElementById("loginPopupForm").style.display = "none";

          // Abrir el popup de registro después de un breve retardo
          setTimeout(function () {
            document.getElementById("popupForm").style.display = "block";
          }, 300); // Retardo de 300ms para asegurarse de que el primer popup se cierre antes de abrir el siguiente
        });

      // Cerrar el popup de registro
      document
        .getElementById("closePopup")
        .addEventListener("click", function () {
          document.getElementById("popupForm").style.display = "none";
        });

      // Cerrar los popups si se hace clic fuera de ellos
      window.onclick = function (event) {
        var popup = document.getElementById("popupForm");
        var loginPopupForm = document.getElementById("loginPopupForm");

        if (event.target == popup) {
          popup.style.display = "none";
        }
        if (event.target == loginPopupForm) {
          loginPopupForm.style.display = "none";
        }
      };

      console.log(document.getElementById("loginPopupForm")); // Debería mostrar el elemento en la consola si existe
      console.log(document.getElementById("popupForm")); // Lo mismo aquí
    </script>
  </body>
</html>
